<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Сводная AD / MFA / Кадры</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="layout">

    <!-- Шапка -->
    <div class="top-bar">
      <div class="top-bar-row">
        <div>
          <h1>Сводная по сотрудникам</h1>
          <p class="subtitle">AD + MFA + Кадры — аналитика и сверка данных</p>
        </div>
        <button type="button" class="toggle-btn" id="toggle-uploads">Загрузка файлов ▼</button>
      </div>
    </div>

    <!-- Панель загрузки (сворачиваемая) -->
    <div class="uploads-panel" id="uploads-panel">
      <div class="upload-section-label">Active Directory</div>
      <div class="upload-cards">
        <div class="card card-ad">
          <h3>AD — Ижевск</h3>
          <p>Excel / CSV</p>
          <input type="file" id="file-ad-izhevsk" accept=".csv,.xlsx,.xls" hidden>
          <button type="button" class="btn" id="btn-ad-izhevsk">Загрузить</button>
          <button type="button" class="btn btn-danger" id="btn-clear-ad-izhevsk">Очистить</button>
          <div class="upload-status" id="status-ad-izhevsk"></div>
        </div>
        <div class="card card-ad">
          <h3>AD — Кострома</h3>
          <p>Excel / CSV</p>
          <input type="file" id="file-ad-kostroma" accept=".csv,.xlsx,.xls" hidden>
          <button type="button" class="btn" id="btn-ad-kostroma">Загрузить</button>
          <button type="button" class="btn btn-danger" id="btn-clear-ad-kostroma">Очистить</button>
          <div class="upload-status" id="status-ad-kostroma"></div>
        </div>
        <div class="card card-ad">
          <h3>AD — Москва</h3>
          <p>Excel / CSV</p>
          <input type="file" id="file-ad-moscow" accept=".csv,.xlsx,.xls" hidden>
          <button type="button" class="btn" id="btn-ad-moscow">Загрузить</button>
          <button type="button" class="btn btn-danger" id="btn-clear-ad-moscow">Очистить</button>
          <div class="upload-status" id="status-ad-moscow"></div>
        </div>
      </div>
      <div class="upload-section-label">Другие источники</div>
      <div class="upload-cards">
        <div class="card">
          <h3>MFA</h3>
          <p>CSV (разделитель «;»)</p>
          <input type="file" id="file-mfa" accept=".csv" hidden>
          <button type="button" class="btn" id="btn-mfa">Загрузить</button>
          <button type="button" class="btn btn-danger" id="btn-clear-mfa">Очистить</button>
          <div class="upload-status" id="status-mfa"></div>
        </div>
        <div class="card">
          <h3>Кадры</h3>
          <p>Excel, первый лист</p>
          <input type="file" id="file-people" accept=".xlsx,.xls" hidden>
          <button type="button" class="btn" id="btn-people">Загрузить</button>
          <button type="button" class="btn btn-danger" id="btn-clear-people">Очистить</button>
          <div class="upload-status" id="status-people"></div>
        </div>
      </div>
      <div class="stats" id="stats"></div>
    </div>

    <!-- Тулбар таблицы -->
    <div class="table-toolbar">
      <h2>Сводная таблица</h2>
      <div class="toolbar-right">
        <span class="table-info" id="table-footer"></span>
        <label class="filter-wrap">
          <input type="text" id="filter" placeholder="Поиск…">
        </label>
        <button type="button" class="btn btn-secondary" id="btn-refresh">Обновить</button>
        <button type="button" class="btn btn-export" id="btn-export">Выгрузить XLSX</button>
        <button type="button" class="btn btn-danger" id="btn-clear-all">Очистить всё</button>
      </div>
    </div>

    <!-- Таблица — на всё оставшееся пространство -->
    <div class="table-container">
      <table class="data-table" id="data-table">
        <thead id="thead"></thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>

  </div>
  <script src="/static/app.js"></script>
</body>
</html>
